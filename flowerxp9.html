<html>
<head>
    <meta charset="utf-8">
    <base href="http://xcwgf2.oss-cn-hangzhou.aliyuncs.com"/>
    <link rel="icon" href="data:image/ico;base64,aWNv">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <title>血拼金花</title>
    <script type="text/javascript">
                var _thost = 'http://' + window.location.host;
        var pathArr = window.location.pathname.split("/");
        if(pathArr.length==3 && pathArr[1] != ""){
            if(pathArr[1].search(".html")!=-1){

            }else{
                _thost = 'http://' + window.location.host + "/" + pathArr[1];
            }
        }
        var _tt = new Date().getTime();
        document.write('<script type="text/javascript" src="' + _thost + '/js/config.js?v=1' + _tt + '"> <\/script>');
    </script>    
    <link rel="stylesheet" type="text/css" href="/files/css/nflower-xp.css">
    <link rel="stylesheet" type="text/css" href="/files/css/alertbox2.css">
    <link rel="stylesheet" type="text/css" href="/files/css/fuzhi.css">
    <script type="text/javascript" src="/files/js/fastclick.js"></script>


    <script type="text/javascript" src="/js/load.js?v=11101"></script>
    <script type="text/javascript">
        document.documentElement.style.fontSize = document.documentElement.clientWidth / 360 * 100 + 'px';
        window.addEventListener('load', function () {
            FastClick.attach(document.body);
        }, false);

        var code = DynLoading.getUrlParam("code");
        let token = window.localStorage.getItem('token');
        if (!token) {
            var return_url = window.location.href;
            window.localStorage.removeItem('return_url');
            window.localStorage.setItem('return_url', window.location.href);
            if (DynLoading.isWeiXin()) {
                if (code) {
                    token = "{$token}";
                    if (token != "{$token}") {
                        window.localStorage.setItem('token', token);
                    }
                } else {
                    DynLoading.gotoWx();
                }
            } else {
                DynLoading.goto('login');
            }
        }

        if (token) {
            var room_number = DynLoading.getUrlParam("i");
            room_number = parseInt(room_number);
            var req_url = BaseUrl + '/home1/room' + "?i=" + room_number + "&tk=" + token;
            if (token == '{$token}' && code) {
                req_url = BaseUrl + '/home1/room' + "?i=" + room_number + "&code=" + code;
            }
            var obj = DynLoading.hall(req_url);
            if (obj.result != 0) {
                alert(obj.result_message);
                var return_url = window.location.href;
                console.log(return_url);
                DynLoading.goto('/');
            }
            console.log(obj);
            if (code && obj.data.tk != "") {
                token = obj.data.tk;

                window.localStorage.setItem('token', obj.data.tk);
            }
        }

        let _socket = _isTx ? 'ws://' + _wip + ':' +_wport + '/' + obj.data.gt + '/' + obj.data.dkey : obj.data.socket;
        var newNum = "";
        var per = window.innerWidth / 530;
        var perW = window.innerWidth / 530 / 30 * 140;
        var globalData = {
            "card": obj.data.card,
            "roomNumber": room_number,
            "socket": _socket,
            "hallPath": DynLoading.getPath('/'),
            "roomUrl": window.location.href,
            "baseUrl": BaseUrl + "/",
            "fileUrl": "/",
            "cfileUrl": "/",
            "isWechat": 1,
            "isXianliao": 0,
            "xlTitle": "(房间号:" + room_number + ")",
            "roomStatus": obj.data.room_status,
            "scoreboard": obj.data.balance_scoreboard,
            "session": obj.data.session,
            "shareTitle": obj.data.platfrom_name + "：(房间:" + room_number + ")",
            "gameType": obj.data.game_type,
            "maxCount": obj.data.max_count,
            "tk": token,
            "hallName": obj.data.platfrom_name,
            "hallEname": obj.data.platform_ename,
            "gameName": "血拼金花",
        };

        globalData.wid = obj.data.wid;
        globalData.tt = obj.data.tt;
        var userData = {
            "account_id": obj.data.user.account_id,
            "accountId": obj.data.user.account_id,
            "userCode": obj.data.user.user_code,
            "nickname": obj.data.user.nickname,
            "avatar": obj.data.user.headimgurl,
            "card": obj.data.card,
            "individuality": obj.data.user.individuality,
        };
        var configData = {
            "appId": obj.data.config_ary.appId,
            "timestamp": obj.data.config_ary.timestamp,
            "nonceStr": obj.data.config_ary.nonceStr,
            "signature": obj.data.config_ary.signature,
        };

        // 修改浏览器title
        var new_userName = "";
        var old_userNname = obj.data.user.nickname;
        if (old_userNname.length > 8) {
            new_userName = old_userNname.substring(0, 7);
            new_userName += "..."
        } else {
            new_userName = old_userNname;
        }
        document.getElementsByTagName("title")[0].innerText = new_userName + "|" + globalData.hallName;
    </script>
</head>
<style>
    body {
        font-size: 0.12rem;
    }

    .join-user-info {
        width: 15%;
        margin: 0 .0480rem 0.05rem;
        text-align: center;
        margin-right: 10px;
        display: inline;
    }

    .join-user-info span {
        display: block;
        width: 100%;
        height: .1200rem;
        overflow: hidden;
        line-height: .1200rem;
        font-size: .1056rem;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .join-user-info img {
        width: 100%;
        border-radius: 3px;
    }

    .top {
        position: fixed;
        width: 100%;
        height: .4896rem;
        background-size: 100% 100%;
        z-index: 100;
    }

    .flex-cont {
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
    }

    .top .left {
        padding: .1008rem 0 0 .1968rem;
        flex: 1;
    }

    .top .left img {
        width: .1824rem;
        height: .2448rem;
        vertical-align: middle;
    }

    .top .left span {
        display: inline-block;
        /*padding: 0 .0736rem;*/
        min-width: .4528rem;
        height: .1920rem;
        line-height: .1920rem;
        text-align: right;
        color: #FFF;
        font-size: .1392rem;
        vertical-align: middle;
        background-color: #160f0d;
        border-radius: 0 .1128rem .1128rem 0;
    }

    .top .flex-item {
        text-align: center;
        color: #fefefe;
        font-size: .1440rem;
        line-height: 1.5;
        flex: 1;
        padding-right: .1444rem;
    }

    .top .right {
        position: relative;
        width: 1.1rem;
        flex: 1;
    }

    .top .rules-focus {
        display: inline-block;
        min-width: .7728rem;
    }

    .top .rules-focus span.watchs {
        background: url(/files/images/flower/sidelines.png) no-repeat;
        background-size: 100% 100%;
        right: .8804rem;
    }

    .top .rules-focus span.rules {
        background: url(/files/images/flower/goldFlower_rules.png) no-repeat;
        background-size: 100% 100%;
        right: .4704rem;
    }

    .top .rules-focus span {
        position: absolute;
        width: .2688rem;
        height: .2688rem;
        top: .1104rem;
    }

    .top .rules-focus span.return-index {
        background: url(/files/images/flower/goldFlower_index.png) no-repeat;
        background-size: 100% 100%;
        right: .0672rem;
    }

    .bottom {
        position: fixed;
        width: 100%;
        height: 0.48rem;
        bottom: 0;
        background-size: 100% 100%;
        z-index: 100
    }

    .bottom .points {
        color: #925089;
        font-size: 0.096rem;
        padding: 0.1rem 0 0 0.06rem;
        line-height: 1.6;
    }

    .bottom .chat, .bottom .music {
        position: absolute;
        right: 0.6048rem;
        bottom: 0.0288rem;
        width: 0.3744rem;
        height: 0.3744rem;
        text-align: center;
        line-height: 0.3744rem;
    }

    .bottom .chat {
        right: 0.144rem;
        background: url(/files/images/flower/game-chat.png) no-repeat;
        background-size: 100% 100%;
    }

    .bottom .music img:first-of-type {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        width: .3744rem;
        height: .3744rem;
    }

    .bottom .music img:last-of-type {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
    }

    .bottom .music.suspended {
        background: url(/files/images/flower/game-music2.png) no-repeat;
        background-size: 100% 100%;
    }

    #room_str {
        position: fixed;
        top: -300px;
    }

    .zhuonuo {
        position: fixed;
        right: 0rem;
        width: .5rem;
        z-index: 89;
        top: .65rem;
    }

    /*自动准备*/
    .auto-ready {
        position: absolute;
        left: 0.54rem;
        bottom: 0.05rem;
        z-index: 101;
        width: 0.7rem;
    }

    .auto-ready img {
        width: 100%;
    }

    .window-masks {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 99999;
        background-color: rgba(0, 0, 0, 1);
    }

    .window-masks .border-opacity {
        position: absolute;
        left: 50%;
        top: 50%;
        -webkit-transform: translate(-50%, -50%);
        -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        -o-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        border: .0048rem solid #a7a7a6;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        background-color: rgba(255, 255, 255, .3);
        padding: .0720rem;
    }

    .window-masks .border-opacity .container {
        position: relative;
        background-color: #d1e2f6;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
    }

    .window-masks.return-index .container {
        border: .0096rem solid #afb0b2;
    }

    .window-masks .border-opacity .container:before {
        content: '';
        position: absolute;
        top: .0480rem;
        left: .0480rem;
        width: calc(100% - 0.0960rem);
        height: calc(100% - 0.0960rem);
        border: .0144rem solid #95b8e1;
        -webkit-border-radius: .024rem;
        -moz-border-radius: .024rem;
        border-radius: .024rem;
        z-index: 0;
    }

    .window-masks .border-opacity .container .mask-icon.mask-top {
        top: .0480rem;
        left: .0480rem;
        background: url("/files/images/newgame/mask-top.jpg") no-repeat;
        background-size: 100% 100%;
    }

    .window-masks .border-opacity .container .mask-icon {
        position: absolute;
        width: .0816rem;
        height: .0768rem;
    }

    .window-masks.return-index .main {
        display: -webkit-flex;
        display: flex;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-align-items: center;
        align-items: center;
        width: 2.3280rem;
        min-height: 1.0560rem;
        background-color: #69829e;
        border: .0048rem solid #fff;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        margin: .1200rem;
        padding: .0960rem;
        color: #fff;
        font-size: .1728rem;
        text-align: justify;
    }

    .window-masks.return-index .container .button {
        position: relative;
        text-align: center;
        margin-bottom: .0960rem;
    }

    .window-masks.return-index .container .sure, .window-masks.return-index .container .cancel {
        display: inline-block;
        width: 1.1472rem;
        height: .3312rem;
        font-size: .1200rem;
        line-height: 2.5;
        text-align: center;
        margin: 0 .0480rem;
        color: #fff;
    }

    .window-masks.return-index .container .sure {
        background: url("/files/images/newgame/common-button1.png") no-repeat;
        background-size: 100% 100%;
    }

    .window-masks.return-index .container .cancel {
        background: url("/files/images/newgame/common-button2.png") no-repeat;
        background-size: 100% 100%;
    }

    .window-masks {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 99999;
        background-color: rgba(0, 0, 0, 1);
    }

    .window-masks .border-opacity {
        position: absolute;
        left: 50%;
        top: 50%;
        -webkit-transform: translate(-50%, -50%);
        -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        -o-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        border: .0048rem solid #a7a7a6;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        background-color: rgba(255, 255, 255, .3);
        padding: .0720rem;
    }

    .window-masks.user-join .container {
        position: relative;
        padding: .3840rem .1440rem .0480rem;
    }

    .window-masks .border-opacity .container {
        position: relative;
        background-color: #d1e2f6;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
    }

    .window-masks .border-opacity .container:before {
        content: '';
        position: absolute;
        top: .0480rem;
        left: .0480rem;
        width: calc(100% - 0.0960rem);
        height: calc(100% - 0.0960rem);
        border: .0144rem solid #95b8e1;
        -webkit-border-radius: .024rem;
        -moz-border-radius: .024rem;
        border-radius: .024rem;
        z-index: 0;
    }

    .window-masks .border-opacity .container .mask-icon.mask-top {
        top: .0480rem;
        left: .0480rem;
        background: url(/files/images/newgame/mask-top.jpg) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks .border-opacity .container .mask-icon.mask-right {
        top: .0480rem;
        right: .0480rem;
        background: url(/files/images/newgame/mask-right.jpg) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks .border-opacity .container .mask-icon.mask-bottom {
        bottom: .0480rem;
        right: .0480rem;
        background: url(/files/images/newgame/mask-bottom.jpg) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks .border-opacity .container .mask-icon.mask-left {
        bottom: .0480rem;
        left: .0480rem;
        background: url(/files/images/newgame/mask-left.jpg) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks .border-opacity .container .mask-icon {
        position: absolute;
        width: .0816rem;
        height: .0768rem;
    }

    .window-masks.user-join .user-id {
        position: absolute;
        left: -.0576rem;
        top: 0;
        z-index: 5;
        padding-left: .1440rem;
        width: 1.4016rem;
        height: .3888rem;
        line-height: 1.5;
        color: #fff;
        font-size: .1632rem;
        background: url(/files/images/newgame/join-game-title.png) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks.user-join .container .main {
        overflow: hidden;
        width: 2.6469rem;
        margin-bottom: .0960rem;
        border: .0048rem solid #fff;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        background-color: #69829e;
        color: #fff;
    }

    .window-masks.user-join .container .main .rules {
        line-height: .15rem;
        padding: .0864rem;
        font-size: .1344rem;
    }

    .window-masks.user-join .container .main .user-list {
        box-sizing: border-box;
        width: 2.6400rem;
        min-height: 1.3rem;
        padding: .2400rem .1200rem;
        background: url(/files/images/newgame/join-user-bg1.jpg) no-repeat;
        background-size: 100% 100%;
        display: -webkit-flex;
        display: flex;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
        -webkit-align-items: center;
        align-items: center;
    }

    .window-masks.user-join .container .button {
        position: relative;
        text-align: center;
        margin-bottom: .0480rem;
        display: flex;
    }

    .window-masks.user-join .container .return {
        background: url(/files/images/newgame/common-button1.png) no-repeat;
        background-size: 100% 100%;
    }

    .returnIndex {
        background: url(/files/images/newgame/common-button1.png) no-repeat;
        background-size: 100% 100%;
        left: 50%;
        z-index: 2;
        position: relative;
        width: 0.6rem;
        margin-left: -0.3rem;
        height: 0.25rem;
        margin-bottom: 0.1rem;
    }

    .window-masks.user-join .container .join-game {
        background: url(/files/images/newgame/common-button2.png) no-repeat;
        background-size: 100% 100%;
    }

    .window-masks.user-join .container .join-game, .window-masks.user-join .container .return {
        width: 1.1472rem;
        height: .3312rem;
        font-size: .1200rem;
        line-height: 2.5;
        text-align: center;
        margin: 0 .0480rem;
        color: #fff;
        flex: 1;
        position: static !important;
    }

    .alert .mainPart .backImg {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 0.5vh;
        top: 0;
        left: 0;
        background-size: 100% 300%;
        border: 0.1vh solid #3e3e3e;
        background: #fff !important;
    }

    .alert .mainPart .backImg .blackImg {
        position: absolute;
        width: 40.6vh;
        height: 25vh;
        border-radius: 1.5vh;
        top: 2.2vh;
        left: 2.2vh;
        background: #2f2f2f;
    }

    .alert .mainPart .alertText {
        position: absolute;
        width: 100%;
        line-height: 3.5vh;
        font-size: 2.5vh;
        width: 36vh;
        left: 50%;
        margin-left: -18vh;
        top: 5.6vh;
        text-align: center;
    }

    .mainPart .backImg .blackImg {
        background: #fff !important;
        border: none !important;
    }

    .alert .mainPart .alertText {
        color: #333;
        font-size: 2.2vh;
    }

    .rules-mask .close, .focus-mask .close, .share-mask .close {
        bottom: 15%;
    }

    .rules-mask, .focus-mask, .share-mask {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 999;
        background-color: rgba(0, 0, 0, .8);
    }

    .rules-mask .content {
        position: absolute;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        -o-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        padding: .0720rem;
        width: 2.9856rem;
        background-color: rgba(255, 255, 255, .2);
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        -webkit-box-shadow: 0 0 0.072rem #153b72 inset;
        -moz-box-shadow: 0 0 .0720rem #153b72 inset;
        box-shadow: 0 0 0.072rem #153b72 inset;
        text-align: center;
    }

    .rules-mask .content .niuniu-rules {
        background-color: #fff2d8;
        -webkit-box-shadow: 0 0 0.072rem #153b72 inset;
        -moz-box-shadow: 0 0 .0720rem #153b72 inset;
        box-shadow: 0 0 0.072rem #153b72 inset;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        margin-bottom: .0720rem;
        height: 3.3000rem;
        overflow-x: hidden;
    }

    .rules-mask .content .flex-cont {
        align-items: center;
        padding: .0520rem 0 .0520rem .3168rem;
        font-size: .1152rem;
        line-height: 1.5;
        text-align: left;
        background: url(/files/images/newgame/niuniu-rules-line.png) no-repeat left bottom;
        background-size: 100% auto;
    }

    .flex-cont {
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
    }

    .rules-mask .content .flex-cont .name {
        color: #666;
        letter-spacing: .0240rem;
    }

    .rules-mask .content .flex-cont .flex-item {
        color: #333;
    }

    .rules-mask .content .flex-cont.rules-title {
        -webkit-justify-content: center;
        justify-content: center;
        font-size: .1920rem;
        color: #333;
        padding: .0480rem 0;
    }

    .rules-mask .content .flex-cont {
        align-items: center;
        padding: .0520rem 0 .0520rem .3168rem;
        font-size: .1152rem;
        line-height: 1.5;
        text-align: left;
        border-bottom: solid 1px #ebc1a8;
    }

    .rules-mask .content .niuniu-rules .rules-text {
        text-align: justify;
        padding: 0 .0960rem 0 .310rem;
        line-height: 2;
        font-size: 14px;
        text-indent: -.2rem;
        color: #555;
    }

    .rules-mask .close, .focus-mask .close, .share-mask .close {
        position: absolute;
        left: 50%;
        bottom: .3480rem;
        -webkit-transform: translate(-50%);
        -moz-transform: translate(-50%);
        -ms-transform: translate(-50%);
        -o-transform: translate(-50%);
        transform: translate(-50%);
        width: .2688rem;
        height: .2688rem;
        background: url("/files/images/common/game-close3.png") no-repeat;
        background-size: 100% 100%;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
    }

    .rules-mask .close, .focus-mask .close, .share-mask .close {
        bottom: 15%;
    }

    .chat-list-mask {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
    }

    .chat-list {
        position: fixed;
        right: .0750rem;
        bottom: .6000rem;
        z-index: 99;
        width: 2.3040rem;
        border: .0096rem solid #919191;
        -webkit-border-radius: .096rem;
        -moz-border-radius: .096rem;
        border-radius: .096rem;
        transition: display 1s;
        background-color: rgba(255, 255, 255, .2);
    }

    .chat-list-ul {
        box-sizing: border-box;
        width: 2.1696rem;
        height: 3.2352rem;
        overflow-x: hidden;
        margin: .0672rem;
        padding: .0672rem .0672rem .0240rem .0672rem;
        background-color: #a7aeb2;
        -webkit-border-radius: .096rem;
        -moz-border-radius: .096rem;
        border-radius: .096rem;
    }

    .chat-list li {
        height: .2688rem;
        line-height: .2688rem;
        margin: 0 0 .0480rem 0;
        padding: 0 .1056rem;
        color: #9a3a00;
        font-size: .1200rem;
        text-align: left;
        font-weight: bold;
        -webkit-border-radius: .0480rem;
        -moz-border-radius: .0480rem;
        border-radius: .0480rem;
        background-color: #eff8fb;
    }
</style>
<body>
<span class="copy-tip" id="tips" style="display:none">已复制到剪贴板</span>

<div style="position: fixed;width:100%;height:100%;top:0;left:0;background: #000;z-index:115;" id="loading">
    <div class="load4">
        <div class="loader">Loading...</div>
    </div>
</div>

<!-- position: relative; width: 100%;margin: 0 auto; background: #fff; display: none; -->
<div class="main" id="app-main" style="display: none;'">
    <span class="copy-tip" v-if="isShowTipsText" style="z-index: 200;">{{tipsText}}</span>
    <img src="/fiesc/images/common/33fz.png" class="needsclick zhuonuo copyUrl" data-clipboard-action="copy"
         id="copy_btn"
         onclick="copyLink(globalData.maxCount)"/>
    <textarea id="room_str" readonly="readonly"></textarea>

    <!-- 观战功能 -->
    <img src="/files/images/guest/is_watching.png" style="position: fixed;z-index: 90;width: 40%;left: 30%;top: 56%;"
         v-show="isWatching==1">
    <div class="watch" id="vwatch" v-show="showGuest==1">
        <div class="watchBack" v-on:click="hideGuests"></div>
        <div class="mainPart">
            <img v-on:click="hideGuests" src="/files/images/guest/cancel.png" class="watchCancel"/>
            <img src="/files/images/guest/title.png" class="watchTitle"/>
            <div class="playerList">
                <div class="playerItem" v-for="guest in guests">
                    <img v-bind:src="guest.avatar" class="playerAvatar">
                    <div class="playerName">{{guest.nickname}}</div>
                    <img src="/files/images/guest/icon.png" class="playerIcon">
                </div>
            </div>
            <div class="buttonMiddle">
                <img v-show="showWatchButton" v-on:click="guestRoom" src="/files/images/guest/watch_true.png"/>
                <img v-show="showSitdownButton" v-on:click="sitDown" src="/files/images/guest/sitdown_true.png"/>
            </div>
        </div>
    </div>

    <!-- div class="roomCard">
        <img  src="/files/images/common/ticket.png" />
        <div class="num">
            <div style="position: absolute;top:0;left: 0;width: 100%;height: 100%;background: #fff;opacity: .2;border-radius:10px;"></div>
            <div style="position: relative;padding: 0 10px 0 35px;">{{roomCard}}张</div>
        </div>
    </div -->


    <!--    <img class="return" src="--><?php //echo $file_url;?>
    <!--files/images/common/icon_home3.png" v-on:click="showAlert(3,'确认返回主页？')" style="left:1.5vh; " />  -->
    <!--img class="return" src="/files/images/common/icon_note3.png" v-on:click="showNoteImg()" style="right:9vh; " -->

    <!--    <div class="round">{{game.round}}&nbsp/&nbsp{{game.total_num}}&nbsp局</div>-->
    <!--自动准备-->
    <div class="auto-ready" v-if="isWatching!=1" v-on:click="autoReady()">
        <img v-show="appData.isAutoReady==1" src="/files/images/common/ready_true2.png">
        <img v-show="appData.isAutoReady==0" src="/files/images/common/ready_false2.png">
    </div>
    <div class="top flex-cont">
        <div class="left" v-on:click="showIndividuality">
            <img src="/files/images/common/myText.png">
            <span v-if='userData.individuality!==""'>{{userData.individuality}}</span>
        </div>
        <div class="flex-item"><span>{{game.round}}</span>/<span>{{game.total_num}}</span>局</div>
        <div class="right">
            <div class="rules-focus">
                <span v-on:click="showGuests" class="watchs"></span>
                <span v-on:click="showGameRule" class="rules"></span>
                <span v-on:click="showHomeAlert" class="return-index"></span>
            </div>
        </div>
    </div>

    <div class="disconnect" v-show="!connectOrNot"
         style="position: fixed;top:45%;left: 0;width: 100%;text-align: center;z-index: 101">
        <div style="width: 250px;height:27px;position: absolute;top:-2;left: 50%;margin-left: -125px;background: #000;opacity: .5;border-radius:15px;">
        </div>
        <a style="font-size: 16px;color: #fff;padding: 5px 14px;position:relative;">已断开连接，正在重新连接...</a>
    </div>

    <div id="qrcode" style="display: none;position: fixed; top: 0;left: 0;width: 100%;height: 100%;z-index: 111">
        <div style="background: rgba(0,0,0,0.5);position: fixed;top: 0;left: 0;width: 100%;height: 100%;"
             onclick="hideQrCode()"></div>
        <div style="position: relative;width: 64vw;height: 80vw;left: 50%;top: 50%;transform: translate(-50%, -50%);border: .0096rem solid #919191;-webkit-border-radius: .096rem;-moz-border-radius: .096rem;border-radius: .096rem;transition: display 1s;background-color: rgba(255,255,255,.2);">
            <div>
                <span style="position:absolute;top: 0.1rem;left: 50%;transform: translateX(-50%); width: 70vw;text-align: center; color: #fff;font-size: 18px;">二维码</span>
                <div id="divOne"></div>
                <img id='imgOne'
                     style="width: 50vw; height:50vw; box-sizing: border-box;position: absolute;overflow: scroll;background: #fff;border-radius: 4px;left: 50%;top: 48%;transform: translate(-50%,-50%);"/>
                <span style="position:absolute;bottom: 0.25rem;left: 50%;transform: translateX(-50%); width: 70vw;text-align: center; color: #fff;font-size: 16px;">长按二维码发送</span>
            </div>
        </div>
    </div>

    <div class="myCardType">
        <div v-show="player[0].card_type==1">高牌</div>
        <div v-show="player[0].card_type==2">对子</div>
        <div v-show="player[0].card_type==3">顺子</div>
        <div v-show="player[0].card_type==4">同花</div>
        <div v-show="player[0].card_type==5">同花顺</div>
        <div v-show="player[0].card_type==6">三条</div>
    </div>

    <div v-show="isShowApply" style="color: #000;">
        <div class="applyMask" style="width: 100%;height: 100%;position: fixed;background: #000;z-index: 111;"></div>
        <div style="position: fixed;background: #fff;border-radius: 6px; top: 50%;left: 50%;z-index: 111;transform: translate(-50%,-50%); width: 76vw;font-size: 16px;height: 20vh" >
            <img src="/files/images/common/close.png" style="position: absolute;right: -3vw;top: -2vh;width: 10vw;" @click="hall">
            <div style="margin-top: 5vh;text-align: center;">你不是该俱乐部成员</div>
            <!--            <div style="margin-top: 5vh;text-align: center;">{{applyInfo.text}}</div>-->
            <div style="text-align: center">是否申请加入俱乐部？</div>
            <div style="background: url(/files/images/common/button_yellow.png);background-size: 100% 100%;width: 24vw;height: 4vh;position: relative;top: 2.5vh;left: 50%;transform: translateX(-50%);color: #fff;text-align: center;line-height: 4vh;font-size: 16px;" @click="applyClub()">
                {{applyInfo.status}}
            </div>
        </div>
    </div>

    <div class="table" id="table">
        <img class="tableBack" id="tableBack" src="/files/images/nflowerxp/table.jpg"/>

        <!-- 筹码  -->
        <div class="place" v-show="game.status==2">
            <div class="totalScore" style="top:-38px;left: 24px;">
                <div class="scores" style="background: none;">
                    <div style="position: absolute;height: 18px;padding: 0 12px;border-radius: 9px;width: 52%;background: #000;opacity: .3;left: 0;}"></div>
                    <div style="position: relative;">{{game.score}}</div>
                </div>
                <img src="/files/images/flower/totalScore.png"/>
            </div>
            <div style="color: #000;text-align: center;font-size: 13px;margin-top: -18px;line-height: 18px;opacity:.7;">
                第{{game.curr_circle}}/{{ruleInfo.bet_circle}}轮
            </div>
            <div class="scoresArea"></div>
        </div>

        <!-- 火焰 -->
        <div class="flame" v-show="ruleInfo.xp_chip==game.currentScore">
            <div class="flame1"></div>
            <div class="flameImg flame2"></div>
            <div class="flameImg flame3"></div>
            <div class="flameImg flame4"></div>
        </div>

        <!-- 发牌  -->
        <div class="cardDeal">

            <div v-for="p in player"
                 v-show="p.account_id>0&&p.account_status>2&&(p.num!=1||(p.account_status!=4&&p.account_status!=6&&p.account_status!=7&&!player[0].is_showCard))&&(game.cardDeal>0||p.account_status==6||p.account_status==7)">

                <div class="card" v-bind:class="'card' + p.num + '1'"
                     v-show="game.cardDeal>0||p.account_status==6||p.account_status==7"></div>
                <div class="card" v-bind:class="'card' + p.num + '2'"
                     v-show="game.cardDeal>1||p.account_status==6||p.account_status==7"></div>
                <div class="card" v-bind:class="'card' + p.num + '3'"
                     v-show="game.cardDeal>2||p.account_status==6||p.account_status==7"></div>
                <div class="isSeen" v-bind:class="'isSeen' + p.num" v-show="p.num>1&&p.account_status==4"></div>
                <div class="isQuit" v-bind:class="'isQuit' + p.num" v-show="p.account_status==6"></div>
                <div class="isLose" v-bind:class="'isLose' + p.num" v-show="p.account_status==7&&!p.is_pk"></div>
            </div>

            <!-- 自己的牌 -->
            <div class="myCards" v-show="player[0].is_showCard&&player[0].account_status>2">
                <div v-show="player[0].is_win" class="winText">
                    <img src="/files/images/flower/text_win.png"
                         v-show="!player[0].win_show && player[0].account_id==userData.account_id&&player[0].is_guest!=1"/>
                    <div class="winScore" v-show="player[0].win_show"
                         style="width: 100%;left: 0;text-align: center;font-size: 16px;">
                        +{{player[0].current_win}}
                    </div>
                </div>

                <div class="cards card0">
                    <div class="face front"></div>
                    <div class="face back" v-bind:class="'card' + player[0].card[0]"></div>
                    <div class="myQuitBack" v-show="player[0].account_status==6||player[0].account_status==7"></div>
                </div>

                <div class="cards card1">
                    <div class="face front"></div>
                    <div class="face back" v-bind:class="'card' + player[0].card[1]"></div>
                    <div class="myQuitBack" v-show="player[0].account_status==6||player[0].account_status==7"></div>
                </div>

                <div class="cards card2">
                    <div class="face front"></div>
                    <div class="face back" v-bind:class="'card' + player[0].card[2]"></div>
                    <div class="myQuitBack" v-show="player[0].account_status==6||player[0].account_status==7"></div>
                </div>

                <!-- width: 70px;height:20px;position: absolute;top:17px;left:50%;margin-left: -40px;z-index: 95;text-align: center;color: #fff;font-size: 15px;padding: 1px 5px;-->
                <div style="width: 70px;height:20px;position: absolute;top:22px;left:50%;margin-left: -40px;z-index: 95;text-align: center;color: #fff;font-size: 15px;padding: 1px 5px;"
                     v-if="player[0].account_id==userData.account_id&&player[0].is_guest!=1"
                     v-show="player[0].account_status==5&&player[0].playing_status==2 && ruleInfo.look_cond<game.curr_circle"
                     v-on:click="choose(1)">
                    <!-- <div style="position: absolute;top:0;left: 0;border-radius: 11px;opacity: 0.3;width: 100%;height: 100%;background: #000;"></div>
                    <div style="position: relative;opacity: 0.9;">点击看牌</div> -->
                    <img src="/files/images/flower/text_click2look.png" style="width: 70px;height: 20px">
                </div>

                <!-- 观战功能 -->
                <div class="isSeen isSeen1" v-if="player[0].account_id!=userData.account_id&&isWatching==1"
                     v-show="player[0].account_status==4 && game.cardDeal>0"></div>
                <div class="isQuit isQuit1" v-show="player[0].account_status==6"></div>
                <div class="isLose isLose1" v-show="player[0].account_status==7"></div>
            </div>

        </div>
        <div v-for="p in player" key="p.num" class="member" v-bind:class="'member' + p.num" v-show="p.account_id<=0">
            <div class="quitBack"
                 style="border: 1px solid #764c4b;font-size:12px;color:#764c4b;line-height: 7.4vh;width:7.4vh;height:7.4vh;background: rgba(0,0,0,.45);opacity: 1;">
                空位
            </div>
        </div>
        <!-- 玩家     -->
        <div v-for="p in player" key="p.num" class="member" v-bind:class="'member' + p.num"
             v-show="p.account_id>0&&!p.is_pk">
            <img src="/files/images/common/player_bg.png" class="background">
            <img src="/files/images/common/player_selected.png" class="background" v-show="p.is_win&&p.num==1">
            <div class="title">{{p.nickname}}</div>
            <!--
            <img v-bind:src="p.headimgurl" class="avatar">
            -->

            <div class="avatar">
                <img v-bind:src="p.headimgurl" style="position: absolute;left:25%;width: 100%;border-radius: .4vh;">

                <img src="/files/images/flower/avatar_timer.jpg"
                     style="position: absolute;left:25%;width: 100%;border-radius: .4vh;" v-show="p.playing_status>1">
                <div style="position: absolute; top: 0px;left: 25%;width: 100%; line-height: 6.5vh;text-align: center;color: #602603;font-size: 20px;"
                     v-if="p.num!=1" v-show="p.playing_status>1">{{p.limit_time}}
                </div>
                <div style="position: absolute; top: 0px;left: 25%;width: 100%; line-height: 8vh;text-align: center;color: #602603;font-size: 20px;"
                     v-if="p.num==1" v-show="p.playing_status>1">{{p.limit_time}}
                </div>
            </div>

            <div class="score">{{p.account_score}}</div>
            <div class="quitBack"
                 v-show="((p.account_status==6||p.account_status==7)&&p.num==1)||(p.num>1&&p.online_status==0)"></div>

            <!-- 观战功能 -->
            <img src="/files/images/guest/guest_avatar.png" style="position: absolute;top: 38%;left: 17%;width: 70%;"
                 v-show="p.is_guest==1">

            <div class="isReady" v-show="game.round!=game.total_num">
                <img src="/files/images/flower/ready_button.png" class="unready"
                     v-if="p.num==1&&p.account_id==userData.account_id&&p.is_guest!=1"
                     v-show="(p.account_status==1||p.account_status==0)&&game.status==1" v-on:click="imReady"/>
                <img src="/files/images/common/ready_text.png" class="ready" v-show="p.account_status==2"/>
            </div>

            <div class="cardOver" v-bind:class="'cardOver' + p.num" v-if="p.num!=1"
                 v-show="game.cardDeal==-1&&p.account_status>1&&p.account_status!=6&&p.account_status!=7&&p.card.length>0">
                <img src="/files/images/flower/cardBox.png" class="cardResult" v-show="!p.is_win"/>
                <img src="/files/images/flower/cardBoxWin.png" class="cardResult" v-show="p.is_win"/>
                <div class="name">{{p.nickname}}</div>
                <div class="openCard">
                    <div class="cards card0">
                        <div class="face front"></div>
                        <div class="face back" v-bind:class="'card' + p.card[0]"></div>
                    </div>
                    <div class="cards card1">
                        <div class="face front"></div>
                        <div class="face back" v-bind:class="'card' + p.card[1]"></div>
                    </div>
                    <div class="cards card2">
                        <div class="face front"></div>
                        <div class="face back" v-bind:class="'card' + p.card[2]"></div>
                    </div>
                </div>
                <div v-show="p.is_win&&p.win_show" class="winText">
                    <div class="winType" v-bind:class="'winType' + p.win_type"></div>
                    <div class="winScore" v-bind:class="'winType' + p.win_type">+{{p.current_win}}</div>
                </div>
            </div>
            <div class="PKbox"
                 v-show="pk.round==1&&pkPeople.length>0&&p.is_readyPK&&(player[0].account_status==5||player[0].account_status==4)"
                 v-on:click="choose(5,p.account_id)">
                <div class="PKboxBack"></div>
            </div>
        </div>

        <!-- 玩家消息  -->
        <div v-for="p in player">
            <div class="messageSay" v-bind:class="'messageSay' + p.num" v-show="p.messageOn">
                <div>{{p.messageText}}</div>
                <div class="triangle"></div>
            </div>
        </div>

        <div class="clock" v-show="game.time>-1">
            {{game.time}}
        </div>

        <!-- 按键     -->
        <div class="myButton"
             v-if="player[0].account_id==userData.account_id&&player[0].is_guest!=1 && player[0].playing_status==2&&pk.round==0">
            <div class="scoreList">
                <div v-show="player[0].account_status==4">

                    <div class="scoreItem scoreItemText scoreItem11" v-show="game.currentScore<=scoreList1[0]"
                         v-on:click="choose(2,scoreList1[0])">{{scoreList1[0]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[0]">
                        {{scoreList1[0]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem21" v-show="game.currentScore<=scoreList1[1]"
                         v-on:click="choose(2,scoreList1[1])">{{scoreList1[1]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[1]">
                        {{scoreList1[1]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem31" v-show="game.currentScore<=scoreList1[2]"
                         v-on:click="choose(2,scoreList1[2])">{{scoreList1[2]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[2]">
                        {{scoreList1[2]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem41" v-show="game.currentScore<=scoreList1[3]"
                         v-on:click="choose(2,scoreList1[3])">{{scoreList1[3]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[3]">
                        {{scoreList1[3]}}
                    </div>

                    <div class="scoreItemText scoreItem00"
                         v-show="game.curr_circle<=ruleInfo.xp_cond||(roomCard<ruleInfo.bloody_chip_ticket &&ruleInfo.xp_chip!=game.currentScore)">
                        {{ruleInfo.xp_chip}}
                    </div>
                    <div class="scoreItemText scoreItem01"
                         v-show="game.curr_circle>ruleInfo.xp_cond&&(roomCard>=ruleInfo.bloody_chip_ticket)||ruleInfo.xp_chip==game.currentScore"
                         v-on:click="choose(2,ruleInfo.xp_chip)">{{ruleInfo.xp_chip}}
                    </div>
                    <!--div class="bloodyNoty" v-if="ruleInfo.bloody_chip_tip!=''">
                        <a class="text">{{ruleInfo.bloody_chip_tip}}</a>
                    </div-->
                </div>

                <!-- 闷牌 -->
                <div v-show="player[0].account_status==5">
                    <div class="scoreItem scoreItemText scoreItem51" v-show="game.currentScore<=scoreList1[0]"
                         v-on:click="choose(2,scoreList2[0])">{{scoreList2[0]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[0]">
                        {{scoreList2[0]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem11" v-show="game.currentScore<=scoreList1[1]"
                         v-on:click="choose(2,scoreList2[1])">{{scoreList2[1]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[1]">
                        {{scoreList2[1]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem21" v-show="game.currentScore<=scoreList1[2]"
                         v-on:click="choose(2,scoreList2[2])">{{scoreList2[2]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[2]">
                        {{scoreList2[2]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem61" v-show="game.currentScore<=scoreList1[3]"
                         v-on:click="choose(2,scoreList2[3])">{{scoreList2[3]}}
                    </div>
                    <div class="scoreItem scoreItemText scoreItem50" v-show="game.currentScore>scoreList1[3]">
                        {{scoreList2[3]}}
                    </div>

                    <div class="scoreItemText scoreItem00"
                         v-show="game.curr_circle<=ruleInfo.xp_cond||(roomCard<ruleInfo.bloody_chip_ticket&&ruleInfo.xp_chip!=game.currentScore)">
                        {{ruleInfo.xp_chip / 2}}
                    </div>
                    <div class="scoreItemText scoreItem01"
                         v-show="game.curr_circle>ruleInfo.xp_cond&&(roomCard>=ruleInfo.bloody_chip_ticket||ruleInfo.xp_chip==game.currentScore)"
                         v-on:click="choose(2,ruleInfo.xp_chip/2)">{{ruleInfo.xp_chip / 2}}
                    </div>
                    <!--div class="bloodyNoty" v-if="ruleInfo.bloody_chip_tip!=''">
                        <a class="text">{{ruleInfo.bloody_chip_tip}}</a>
                    </div-->
                </div>
            </div>
            <div class="doubleButton">
                <div class="isOver">
                    <div class="leftButton button" v-on:click="choose(3,1)"></div>
                    <div class="rightButton button" v-show="game.can_open==1&&pkPeople.length>0"
                         v-on:click="choose(4,1)"></div>
                    <div class="rightButton1 button" v-show="game.can_open==0||pkPeople.length==0"></div>
                </div>
            </div>
        </div>

        <div class="pkBackground"
             v-show="pk.round==1&&pkPeople.length>0&&(player[0].account_status==5||player[0].account_status==4)"
             v-on:click="quitPk">
            <div class="pkBackText">选择比牌对象</div>
        </div>
    </div>

    <div class="bottom">
        <div class="points"><span>底分：</span><span class="bottom-dizhu">{{ruleInfo.default_score}}</span>&nbsp;&nbsp;<br><span
                class="bottom-jushu">{{game.total_num}}</span>局
        </div>

        <div class="music" style="right: 1.05rem;">
            <img src="/files/images/common/btn_qrcode.png" onclick="makeQrCode()"
                 style=" position: absolute;right: 115px;width: 35px;height: 35px;text-align: center;line-height: 0.3744rem;z-index: 100;bottom: 5;"/>
        </div>
        <div class="music" v-on:click="confirmAudioSetting"><img v-if="editAudioInfo.backMusic==1"
                                                                 src="/files/images/flower/game-music1.png"><img
                v-if="editAudioInfo.backMusic==0" src="/files/images/flower/game-music2.png"></div>
        <div class="chat" v-on:click="showMessage"></div>

    </div>
    <!-- 特殊提示  -->
    <div class="alert" v-show="isShowNoteImg" v-on:click="hideNoteImg()">
        <div class="alertBack"></div>
        <img src="/files/images/common/text_protocol.png" style="position: absolute;top:18vh;width:80vw;left: 10vw; "/>
    </div>


    <div class="window-masks return-index" id="returnIndex" v-show="isShowHomeAlert">
        <div class="border-opacity">
            <div class="container"><i class="mask-icon mask-top"></i><i class="mask-icon mask-right"></i><i
                    class="mask-icon mask-bottom"></i><i class="mask-icon mask-left"></i>
                <div class="main">确认返回主页？</div>
                <div class="button">
                    <div class="sure" id="returnIndexBtn" v-on:click="hall">返回首页</div>
                    <div class="cancel" id="cancelBtn" v-on:click="closeHomeAlert">取消</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 进游戏提示框 -->
    <div class="window-masks user-join" id="joinUser" v-show="isShowGameAlert">
        <div class="border-opacity">
            <div class="container">
                <i class="mask-icon mask-top"></i>
                <i class="mask-icon mask-right"></i>
                <i class="mask-icon mask-bottom"></i>
                <i class="mask-icon mask-left"></i>
                <div class="user-id">ID：<?php echo $room_number;?></div>
                <div class="main">
                    <div class="rules" v-show="alertType==4">
                        底分：<a>{{ruleInfo.default_score}}分<br></a>
                        筹码：
                        <a>{{scoreList2[0]}}/{{scoreList1[0]}},{{scoreList2[1]}}/{{scoreList1[1]}},{{scoreList2[2]}}/{{scoreList1[2]}},{{scoreList2[3]}}/{{scoreList1[3]}}</a><br>
                        <a v-if="ruleInfo.disable_pk_men==1">规则：</a>
                        <a v-if="ruleInfo.disable_pk_men==1">闷牌，全场禁止比牌<br></a>
                        下注：
                        <a>{{ruleInfo.bet_circle}}轮<br></a>
                        比牌：
                        <a>>{{ruleInfo.pk_cond}}轮<br></a>
                        必闷：
                        <a>{{ruleInfo.look_cond}}轮<br></a>
                        血拼：
                        <a>{{ruleInfo.xp_circle}}轮 {{ruleInfo.xp_chip}}分<br></a>
                        局数：<a v-if="ruleInfo.ticket_count==2">12局</a><a v-if="ruleInfo.ticket_count==4">24局</a><br>
                    </div>

                    <div class="user-list">
                        <div class="join-user-info" v-for="item in alertText">
                            <img v-bind:src="item.avatar">
                            <span>{{item.name}}</span>
                        </div>
                    </div>
                </div>
                <div class="button">
                    <div class="return" v-on:click="guestRoom">观战</div>
                    <div class="join-game" id="joinGame" v-on:click="sitDown">加入游戏</div>
                </div>
            </div>
        </div>
    </div>

    <div class="window-masks return-index" id="valert" v-show="isShowAlert">
        <div class="border-opacity">
            <div class="container">
                <i class="mask-icon mask-top"></i>
                <i class="mask-icon mask-right"></i>
                <i class="mask-icon mask-bottom"></i>
                <i class="mask-icon mask-left"></i>
                <div class="main">
                    <div class="rull" v-show="alertType==4" style="font-size: 2.2vh">
                        底分：<a>{{ruleInfo.default_score}}分<br></a>
                        筹码：
                        <a>{{scoreList2[0]}}/{{scoreList1[0]}},{{scoreList2[1]}}/{{scoreList1[1]}},{{scoreList2[2]}}/{{scoreList1[2]}},{{scoreList2[3]}}/{{scoreList1[3]}}</a><br>
                        <a v-if="ruleInfo.disable_pk_men==1">规则：</a>
                        <a v-if="ruleInfo.disable_pk_men==1">闷牌，全场禁止比牌<br></a>
                        下注：
                        <a>{{ruleInfo.bet_circle}}轮<br></a>
                        比牌：
                        <a>>{{ruleInfo.pk_cond}}轮<br></a>
                        必闷：
                        <a>{{ruleInfo.look_cond}}轮<br></a>
                        血拼：
                        <a>{{ruleInfo.xp_circle}}轮 {{ruleInfo.xp_chip}}分<br></a>
                        局数：<a v-if="ruleInfo.ticket_count==2">12局</a><a v-if="ruleInfo.ticket_count==4">24局</a><br>
                    </div>

                    <!--好友管理弹框-->
                    <div v-if="alertType==8 && add_user" style="position: absolute;top: 0.2rem;font-size: 0.14rem;">
                        <div>你还不是房主的好友,无法加入房间</div>
                        <div style="position: absolute;top: 0.7rem;left: 0.5rem;">
                            <img v-bind:src="ownerUser.avatar"
                                 style="position: relative; width: 5vh;height: 5vh;border: .1vh solid yellow;top: .5vh;">
                            <span style="position: relative; font-size: 2.4vh;line-height: 6.6vh;height: 6.6vh;max-width: 43vw;top: -1.4vh;overflow: hidden;">{{ownerUser.nickname}}</span>

                        </div>
                    </div>


                    <div>{{alertText}}</div>
                </div>

                <div v-show="alertType==2">
                    <div class="sure" v-on:click="hall"
                         style="left: 50%;position: relative;margin-left: -0.55rem;margin-bottom: 0.1rem;">返回首页
                    </div>
                </div>
                <div v-show="alertType==3">
                    <div class="border-opacity">
                        <div class="container"><i class="mask-icon mask-top"></i><i class="mask-icon mask-right"></i><i
                                class="mask-icon mask-bottom"></i><i class="mask-icon mask-left"></i>
                            <div class="button">
                                <div class="return" id="returnIndexBtn" v-on:click="hall">返回首页</div>
                                <div class="join-game" id="cancelBtn" v-on:click="closeAlert">取消</div>
                            </div>
                        </div>
                    </div>
                    <div class="return" v-on:click="hall">返回首页</div>
                    <div class="join-game" v-on:click="closeAlert">取消</div>
                </div>

                <!--观战功能-->
                <div v-show="alertType==4" class="button">
                    <div class="return" v-show="joinType==1||joinType==3" v-on:click="guestRoom"><img
                            src="/files/images/guest/watch_true.png"></div>
                    <div class="join-game" v-show="joinType==1||joinType==2" v-on:click="sitDown"><img
                            src="/files/images/guest/sitdown_true.png"></div>

                    <div class="return" v-show="joinType==2"><img src="/files/images/guest/watch_false.png"></div>
                    <div class="join-game" v-show="joinType==3"></div>
                </div>

                <div v-show="alertType==7">
                    <div class="buttonMiddle" v-on:click="hall">返回首页</div>
                </div>
                <div v-if="alertType==8 && add_user"
                     style="position: relative;width: 14vh;line-height: 4.2vh;height: 4.2vh;margin: 0.05rem;left: 50%;margin-left: -7vh;text-align: center;overflow: hidden;">
                    <div v-show="applyStatus==0" style="border-radius: 2vh;background-color: #EE7942;color: #fff"
                         v-on:click="applyToJoin">确定
                    </div>
                    <div v-show="applyStatus==1" style="border-radius: 2vh;background-color: #6f6363;color: #fff">申请中
                    </div>
                </div>
                <div v-show="alertType==11">
                    <div class="buttonMiddle" v-on:click="closeAlert">知道了</div>
                </div>
                <div v-show="alertType==21">
                    <div class="buttonMiddle" v-on:click="closeAlert">确定</div>
                </div>
                <div v-show="alertType==22">
                    <div class="buttonMiddle" v-on:click="closeAlert">确定</div>
                </div>
                <div v-show="alertType==23">
                    <div class="buttonMiddle" v-on:click="finishBindPhone()">确定</div>
                </div>
                <div v-show="alertType==31">
                    <div class="buttonMiddle" v-on:click="reloadView()">确定</div>
                </div>
                <div v-show="alertType==32">
                    <div class="buttonMiddle" v-on:click="reloadView()">重新登录</div>
                </div>
            </div>
        </div>
    </div>

    <!--  PK  -->
    <div class="playerPK" v-show="pk.round>1">
        <div class="pkBack"></div>
        <div class="pk1">
            <img src="/files/images/flower/comLeft.png" style="position: absolute;top:0;left:0;width:95%;height:140px;">
            <div class="pkPlayer">
                <img src="/files/images/flower/comB.png" class="background" v-show="pk.round>1">
                <div class="title">{{pk1.nickname}}</div>
                <img v-bind:src="pk1.headimgurl" class="avatar">
                <div class="score">{{pk1.account_score}}</div>
                <div class="quitBack"></div>
            </div>
            <img src="/files/images/flower/comLoser.png" v-show="pk.round==4&&pk1.account_status==7" class="pkLoser"/>
        </div>
        <div class="pk2">
            <img src="/files/images/flower/comRight.png"
                 style="position: absolute;top:0;right:0;width:95%;height:140px;">
            <div class="pkPlayer">
                <img src="/files/images/flower/comB.png" class="background" v-show="pk.round>1">
                <div class="title">{{pk2.nickname}}</div>
                <img v-bind:src="pk2.headimgurl" class="avatar">
                <div class="score">{{pk2.account_score}}</div>
                <div class="quitBack"></div>
            </div>
            <img src="/files/images/flower/comLoser.png" v-show="pk.round==4&&pk2.account_status==7" class="pkLoser"/>
        </div>
        <img src="/files/images/flower/comE.gif" v-show="pk.round==3" class="pkE"/>
        <img src="/files/images/flower/comV.png" v-show="pk.round>2" class="pkV"/>
        <img src="/files/images/flower/comS.png" v-show="pk.round>2" class="pkS"/>
    </div>

    <!-- 排行 -->
    <div class="ranking hideRanking" id="ranking" style="z-index: 1">
        <div class="rankBack">
            <img crossOrigin="Anonymous" src="/files/images/nflowerxp/rank_bg.jpg?v=2019"
                 style="position: absolute;top: 0;left: 0;width: 100%">
        </div>

        <div class="rankText" style="position: absolute;top: 4%;">
            <img crossOrigin="Anonymous" src="/files/images/nflowerxp/rank_frame.jpg"
                 style="position: absolute;top: 0%;left: 0;width: 140vw;">
            <div class="time" v-show="playerBoard.round>0" style="position: absolute;top: 52vw;width: 100%;">
                <a style="border-color: #247ed8;background-color: #fff;font-size: 6vw;color:#000">房间号:{{game.room_number}}&nbsp{{playerBoard.record}}&nbsp{{game.total_num}}局</a>
            </div>
            <div style="height: 68vw;"></div>
            <div v-for="p in playerBoard.score" class="scoresItem"
                 v-bind:class="{true: 'scoresItemYellow', false: 'scoresItemWhite'}[p.account_score>0]"
                 v-show="p.account_id>0"
                 style="background-color:rgba(0,0,0,0.5);width:60%;border-radius:10px;border:2px solid #fff5c8">
                <img crossOrigin="Anonymous" src="/files/images/common/rank_bigwinner.png"
                     style="top: 0; margin-top: -2.5vw; left: 4px;height: 120%" v-show="p.isBigWinner==1">
                <div class="name">{{p.nickname}}</div>
                <div class="currentScores"><a v-show="p.account_score>0">+</a>{{p.account_score}}</div>
            </div>
        </div>
    </div>

    <!--    <div class="ranking hideRanking" id="ranking" style="z-index: 0">-->
    <!--        <div class="rankBack">-->
    <!--        <img src="--><?php //echo $file_url;?>
    <!--files/images/nflowerxp/rank_bg.jpg" style="position: absolute;top: 0;left: 0;width: 100%">-->
    <!--        </div>-->
    <!---->
    <!--        <div class="rankText" style="position: absolute;">-->
    <!--            <img src="--><?php //echo $file_url;?>
    <!--files/images/nflowerxp/rank_frame.jpg" style="position: absolute;top: 0%;left: 0vw;width: 190vw;">-->
    <!--            <div class="time" v-show="playerBoard.round>0" style="position: absolute;top: 45.5vw;width: 100%;">-->
    <!--                <a style="border-color: #ce6eff;background-color: #382b5e;font-size: 6vw;">房间号:{{game.room_number}}&nbsp&nbsp&nbsp&nbsp{{playerBoard.record}}&nbsp&nbsp&nbsp&nbsp{{game.total_num}}局</a>-->
    <!--            </div>-->
    <!--            <div style="height: 64vw;"></div>-->
    <!--            <div v-for="p in playerBoard.score" class="scoresItem" v-bind:class="{true: 'scoresItemYellow', false: 'scoresItemWhite'}[p.account_score>0]" v-show="p.account_id>0">-->
    <!--                <img src="--><?php //echo $file_url;?>
    <!--files/images/common/rank_bigwinner.png" style="top: 0; margin-top: -2.5vw; left: 4px;height: 100%" v-show="p.isBigWinner==1">-->
    <!--                <div class="name">{{p.nickname}}</div>-->
    <!--                <div class="currentScores"><a v-show="p.account_score>0">+</a>{{p.account_score}}</div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->

    <!-- end图片 -->
    <div id="endCreateRoom" class="end"
         style="position: fixed;width: 100%;height:100%;top:0;left:0;z-index: 120;display: none;overflow: hidden;">
        <img src="" style="width: 100vw;position: absolute;top:0;left: 0;height: 100vh;" id="end" usemap="#planetmap1"/>
        <div id="endCreateRoomBtn"
             style="position:absolute;right:13vw; width: 30vw; height: 10vw;bottom: 8%;z-index:121;overflow: hidden;"
             v-on:click="reviewCard()"></div>
        <div id="endCreateRoomBtn"
             style="position:absolute;right:46vw; width: 10vw; height: 10vw;bottom: 8%;z-index:121;overflow: hidden;"
             v-on:click="hall()"></div>
    </div>

    <!-- 消息 -->
    <div class="chat-list-mask" v-on:click="hideMessage" v-show="isShowNewMessage"></div>
    <div class="chat-list" id="newmessage-box" v-show="isShowNewMessage">
        <ul class="chat-list-ul">
            <li v-for="m in message" v-on:click="messageOn(m.num)">{{m.text}}</li>
        </ul>
    </div>

    <!-- 新规则  -->
    <div class="rules-mask" v-show="ruleInfo.isShowRule">
        <div class="content">
            <div class="niuniu-rules">
                <div class="flex-cont rules-title">规则</div>
                <div class="flex-cont" data-pos="0">
                    <div class="name">底分：</div>
                    <div class="flex-item"><span class="zhuangType">{{ruleInfo.default_score}}分</span></div>
                </div>
                <div class="flex-cont" data-pos="1">
                    <div class="name">筹码：</div>
                    <div class="flex-item">
                        <span>{{scoreList2[0]}}/{{scoreList1[0]}},{{scoreList2[1]}}/{{scoreList1[1]}},{{scoreList2[2]}}/{{scoreList1[2]}},{{scoreList2[3]}}/{{scoreList1[3]}}</span>
                    </div>
                </div>
                <div class="flex-cont" data-pos="1">
                    <div class="name">下注：</div>
                    <div class="flex-item"><span class="zhuangType">{{ruleInfo.bet_circle}}轮</span></div>
                </div>
                <div class="flex-cont" data-pos="4">
                    <div class="name">比牌：</div>
                    <div class="flex-item">>{{ruleInfo.pk_cond}}轮</div>
                </div>
                <div class="flex-cont" data-pos="7">
                    <div class="name">血拼：</div>
                    <div class="flex-item">{{ruleInfo.xp_circle}}轮 {{ruleInfo.xp_chip}}分</div>
                </div>
                <div class="flex-cont" data-pos="7">
                    <div class="name">必闷：</div>
                    <div class="flex-item">{{ruleInfo.look_cond}}轮</div>
                </div>
                <div class="flex-cont" data-pos="5">
                    <div class="name">局数：</div>
                    <div class="flex-item" v-if="ruleInfo.ticket_count==2">12局X2张房卡</div>
                    <div class="flex-item" v-if="ruleInfo.ticket_count==4">24局X4张房卡</div>
                </div>
            </div>
        </div>
        <div class="close" v-on:click="cancelGameRule"></div>
    </div>
    <!-- 游戏规则-->
    <!--    <div class="createRoom" id="vroomRule" v-show="ruleInfo.isShowRule" v-on:click="cancelGameRule">-->
    <!--        <div class="createRoomBack"></div>-->
    <!--        <div class="mainPart" >-->
    <!--            <div  class="createB"></div>-->
    <!--            <div class="createTitle">-->
    <!--                <img src="--><?php //echo $file_url;?><!--files/images/common/txt_rule.png" />-->
    <!--            </div>-->
    <!---->
    <!--            <img src="--><?php //echo $file_url;?>
    <!--files/images/common/cancel.png" class="cancelCreate" v-on:click="cancelGameRule"/>-->
    <!---->
    <!--            <div class="blueBack">-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">底分：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText" >{{ruleInfo.default_score}}</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">筹码：</div>-->
    <!--                    <div class="selectList" >-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText" >{{scoreList2[0]}}/{{scoreList1[0]}},{{scoreList2[1]}}/{{scoreList1[1]}},{{scoreList2[2]}}/{{scoreList1[2]}},{{scoreList2[3]}}/{{scoreList1[3]}}</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;" v-if="ruleInfo.disable_pk_men==1">-->
    <!--                    <div class="selectTitle">规则：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;" >-->
    <!--                            <div class="selectText" >闷牌，全场禁止比牌</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">下注：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText" >{{ruleInfo.bet_circle}}轮</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">比牌：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText"> >{{ruleInfo.pk_cond}}轮</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">血拼：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText">  {{ruleInfo.xp_circle}}轮 {{ruleInfo.xp_chip}}分</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!---->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;" >-->
    <!--                    <div class="selectTitle">必闷：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;">-->
    <!--                            <div class="selectText">{{ruleInfo.look_cond}}轮</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--                <div class="selectPart" style="height:30px;line-height:30px;padding:6px 0;">-->
    <!--                    <div class="selectTitle">局数：</div>-->
    <!--                    <div class="selectList">-->
    <!--                        <div class="selectItem" style="margin-left:12px;" v-if="ruleInfo.ticket_count==2">-->
    <!--                            <div class="selectText" >12局X2张房卡</div>-->
    <!--                        </div>-->
    <!--                        <div class="selectItem" style="margin-left:12px;" v-if="ruleInfo.ticket_count==4">-->
    <!--                            <div class="selectText" >24局X4张房卡</div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->

    <!-- 设置音频 -->
    <div class="audioRoom" id="vaudioRoom" v-show="editAudioInfo.isShow">
        <div class="audioRoomBack" v-on:click="cancelAudioSetting"></div>
        <div class="mainPart">
            <div class="createB"></div>
            <div class="createTitle" style="height:4vh;">
            </div>

            <img src="/files/images/common/cancel.png" class="cancelCreate" v-on:click="cancelAudioSetting"/>

            <div class="blueBack">
                <div style="height:0.5vh;"></div>

                <div class="selectPart" style="height:4vh;line-height:4vh;padding:0.8vh 0;">
                    <div class="selectTitle">背景音乐：</div>
                    <div class="selectList">
                        <div class="selectItem" style="margin-left:10px;" v-on:click="setBackMusic">
                            <div class="selectBox"></div>
                            <img src="/files/images/common/tick.png" v-show="editAudioInfo.backMusic==1"/>
                            <div class="selectText">开启</div>
                        </div>
                    </div>
                </div>

                <div class="selectPart" style="height:4vh;line-height:4vh;padding:0.8vh 0;">
                    <div class="selectTitle">游戏音效：</div>
                    <div class="selectList">
                        <div class="selectItem" style="margin-left:10px;" v-on:click="setMessageMusic">
                            <div class="selectBox"></div>
                            <img src="/files/images/common/tick.png" v-show="editAudioInfo.messageMusic==1"/>
                            <div class="selectText">开启</div>
                        </div>
                    </div>
                </div>

                <div class="createCommit" v-on:click="confirmAudioSetting">确定</div>

            </div>
        </div>
    </div>

    <!--防伪码-->
    <div style="display: none;" v-show="isShowIndiv">
        <div class="individuaMask" style="" v-on:click="hideIndividuality"></div>
        <div class="individuaFrame" style="">
            <div class="title">防伪码设置</div>
            <div class="text">
                <input v-model="inputIndiv" v-on:input="individualityChange()" type="text" placeholder="设置1-6位英文或数字防伪码">
            </div>
            <div class="error">{{individualityError}}</div>
            <div class="buttonContainer" v-on:click="setIndividuality">
                <div class="button">确认</div>
            </div>
            <div class="buttonClose" v-on:click="hideIndividuality">
                <img src="/fiesc/images/common/close.png">
            </div>
        </div>
    </div>
</div>

</body>
<script type="text/javascript" src="/files/js/canvas.js"></script>
<script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script type="text/javascript" src="/files/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="/files/js/jquery.marquee.min.js"></script>
<script type="text/javascript" src="/files/js/bscroll.js"></script>
<script type="text/javascript" src="/files/js/velocity.js"></script>
<script type="text/javascript" src="/files/js/vue.min.js"></script>
<script type="text/javascript" src="/files/js/vue-resource.min.js"></script>
<script type="text/javascript" src="/fiesc/js/aes.js"></script>
<script type="text/javascript" src="/files/js/md5.js"></script>
<script type="text/javascript" src="/files/js/ves.js?v=112"></script>
<script type="text/javascript" src="/files/js/nflower-xp.js?v=132111"></script>
<script type="text/javascript" src="/files/js/fuzhi_xl.js?v=1201809171"></script>
<script type="text/javascript" src="/files/js/jquery.qrcode.min.js"></script>
<script type="text/javascript" src="/files/js/qrcode.js?v=111212"></script>
<script src="/files/js/clipboard.min.js"></script>
<script>
    $(document).on('click', 'img', function (e) {
        e.preventDefault();
    })
    // document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
    //     // 通过下面这个API隐藏右上角按钮
    //     WeixinJSBridge.call('hideOptionMenu');
    // });
</script>

</html>
